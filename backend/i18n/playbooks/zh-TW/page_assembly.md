---
playbook_code: page_assembly
version: 1.0.0
capability_code: web_generation
name: ç¶²é çµ„è£
description: æ•´åˆæ‰€æœ‰çµ„ä»¶ï¼ˆhero + sectionsï¼‰ï¼Œç”Ÿæˆå®Œæ•´çš„ç¶²é çµ„ä»¶
tags:
  - web
  - code-generation
  - react
  - frontend

kind: user_workflow
interaction_mode:
  - conversational
  - needs_review
visible_in:
  - workspace_tools_panel
  - workspace_playbook_menu

required_tools:
  - filesystem_write_file
  - filesystem_read_file

language_strategy: model_native
locale: zh-TW
supported_locales:
  - zh-TW
  - en
default_locale: zh-TW
auto_localize: true

entry_agent_type: coder
icon: ğŸ”§
---

# ç¶²é çµ„è£ - SOP

## ç›®æ¨™
è®€å–æ‰€æœ‰çµ„ä»¶ï¼ˆhero + sectionsï¼‰å’Œé é¢è¦æ ¼ï¼Œæ•´åˆæˆå®Œæ•´çš„ç¶²é çµ„ä»¶ï¼Œè¼¸å‡ºåˆ° Project Sandbox çš„ `pages/index.tsx`ã€‚

## åŸ·è¡Œæ­¥é©Ÿ

### Phase 0: æª¢æŸ¥ Project Context

#### æ­¥é©Ÿ 0.1: æª¢æŸ¥æ˜¯å¦æœ‰æ´»èºçš„ web_page project
- æª¢æŸ¥ execution context ä¸­æ˜¯å¦æœ‰ `project_id`
- å¦‚æœæœ‰ï¼Œç¢ºèª project type ç‚º `web_page`
- å¦‚æœæ²’æœ‰ï¼Œæç¤ºç”¨æˆ¶éœ€è¦å…ˆå‰µå»º web_page project

#### æ­¥é©Ÿ 0.2: ç²å– Project Sandbox è·¯å¾‘
- ä½¿ç”¨ `project_sandbox_manager.get_sandbox_path()` ç²å– sandbox è·¯å¾‘
- Sandbox è·¯å¾‘çµæ§‹ï¼š`sandboxes/{workspace_id}/web_page/{project_id}/`
- ç¢ºä¿ `pages/` ç›®éŒ„å­˜åœ¨

#### æ­¥é©Ÿ 0.3: æª¢æŸ¥ä¾è³´çš„ Artifacts
æª¢æŸ¥ä»¥ä¸‹ artifacts æ˜¯å¦å­˜åœ¨ï¼š
- `page_spec` - é é¢è¦æ ¼æ–‡æª”ï¼ˆ`spec/page.md`ï¼‰
- `hero_component` - Hero çµ„ä»¶ï¼ˆ`hero/Hero.tsx`ï¼‰
- `sections` - Sections çµ„ä»¶ï¼ˆ`sections/` ç›®éŒ„ï¼‰

å¦‚æœä»»ä½•ä¸€å€‹ä¸å­˜åœ¨ï¼Œæç¤ºç”¨æˆ¶éœ€è¦å…ˆåŸ·è¡Œå°æ‡‰çš„ playbookã€‚

### Phase 1: è®€å–æ‰€æœ‰çµ„ä»¶å’Œè¦æ ¼

#### æ­¥é©Ÿ 1.1: è®€å–é é¢è¦æ ¼æ–‡æª”
**å¿…é ˆ**ä½¿ç”¨ `filesystem_read_file` å·¥å…·è®€å–ï¼š

- **æ–‡ä»¶è·¯å¾‘**ï¼š`spec/page.md`
- **ç”¨é€”**ï¼šäº†è§£é é¢çµæ§‹ã€æ¨£å¼è¦ç¯„ã€ä½ˆå±€è¦æ±‚

#### æ­¥é©Ÿ 1.2: è®€å– Hero çµ„ä»¶
**å¿…é ˆ**ä½¿ç”¨ `filesystem_read_file` å·¥å…·è®€å–ï¼š

- **æ–‡ä»¶è·¯å¾‘**ï¼š`hero/Hero.tsx`
- **ç”¨é€”**ï¼šäº†è§£ Hero çµ„ä»¶çš„çµæ§‹å’Œ props

#### æ­¥é©Ÿ 1.3: è®€å–æ‰€æœ‰ Section çµ„ä»¶
**å¿…é ˆ**ä½¿ç”¨ `filesystem_read_file` å·¥å…·è®€å–ï¼š

- **æ–‡ä»¶è·¯å¾‘**ï¼š`sections/About.tsx`ã€`sections/Features.tsx` ç­‰
- **ç”¨é€”**ï¼šäº†è§£æ‰€æœ‰ section çµ„ä»¶çš„çµæ§‹

#### æ­¥é©Ÿ 1.4: æª¢æŸ¥çµ„ä»¶ä¾è³´
- æª¢æŸ¥æ‰€æœ‰çµ„ä»¶ä½¿ç”¨çš„ä¾è³´ï¼ˆReactã€æ¨£å¼åº«ç­‰ï¼‰
- ç¢ºä¿ä¾è³´ä¸€è‡´
- è­˜åˆ¥éœ€è¦å…±äº«çš„æ¨£å¼æˆ–å·¥å…·å‡½æ•¸

### Phase 2: è¨­è¨ˆé é¢çµæ§‹

#### æ­¥é©Ÿ 2.1: è¦åŠƒé é¢ä½ˆå±€
æ ¹æ“š `spec/page.md` ä¸­çš„ä½ˆå±€è¦åŠƒï¼š
- ç¢ºå®šé é¢çš„æ•´é«”çµæ§‹
- è¦åŠƒçµ„ä»¶çš„æ’åˆ—é †åº
- ç¢ºå®šéŸ¿æ‡‰å¼è¨­è¨ˆçš„æ–·é»

#### æ­¥é©Ÿ 2.2: è¨­è¨ˆçµ„ä»¶æ•´åˆæ–¹å¼
- Hero çµ„ä»¶çš„ä½ç½®å’Œæ•´åˆæ–¹å¼
- Sections çš„æ’åˆ—é †åº
- çµ„ä»¶ä¹‹é–“çš„é–“è·å’Œä½ˆå±€
- å°èˆªçµæ§‹ï¼ˆå¦‚æœæŒ‡å®šï¼‰

#### æ­¥é©Ÿ 2.3: è¨­è¨ˆæ¨£å¼æ•´åˆ
- çµ±ä¸€æ‰€æœ‰çµ„ä»¶çš„æ¨£å¼
- ç¢ºä¿è‰²å½©æ–¹æ¡ˆä¸€è‡´
- ç¢ºä¿å­—é«”ä¸€è‡´
- è™•ç†å…¨å±€æ¨£å¼ï¼ˆå¦‚æœéœ€è¦ï¼‰

### Phase 3: ç”Ÿæˆå®Œæ•´ç¶²é çµ„ä»¶

#### æ­¥é©Ÿ 3.1: å‰µå»ºä¸»é é¢çµ„ä»¶
ç”Ÿæˆ `pages/index.tsx`ï¼ŒåŒ…å«ï¼š

- **å°å…¥èªå¥**ï¼š
  - å°å…¥ Hero çµ„ä»¶
  - å°å…¥æ‰€æœ‰ Section çµ„ä»¶
  - å°å…¥å¿…è¦çš„æ¨£å¼å’Œå·¥å…·

- **çµ„ä»¶çµæ§‹**ï¼š
```typescript
import React from 'react'
import Hero from '../hero/Hero'
import About from '../sections/About'
import Features from '../sections/Features'
import Content from '../sections/Content'
import Contact from '../sections/Contact'
// ... å…¶ä»– imports

export default function HomePage() {
  return (
    <div className="page-container">
      <Hero />
      <About />
      <Features />
      <Content />
      <Contact />
      {/* Footer if specified */}
    </div>
  )
}
```

#### æ­¥é©Ÿ 3.2: å¯¦ç¾éŸ¿æ‡‰å¼è¨­è¨ˆ
- æ ¹æ“š `spec/page.md` ä¸­çš„éŸ¿æ‡‰å¼è¨­è¨ˆè¦æ±‚
- å¯¦ç¾ç§»å‹•ç«¯ã€å¹³æ¿ã€æ¡Œé¢ç«¯çš„é©é…
- ä½¿ç”¨ CSS Media Queries æˆ– Tailwind éŸ¿æ‡‰å¼é¡

#### æ­¥é©Ÿ 3.3: æ•´åˆæ¨£å¼
- ç¢ºä¿æ‰€æœ‰çµ„ä»¶ä½¿ç”¨çµ±ä¸€çš„æ¨£å¼è¦ç¯„
- è™•ç†å…¨å±€æ¨£å¼ï¼ˆå¦‚æœéœ€è¦ï¼‰
- å‰µå»ºå…±äº«æ¨£å¼æ–‡ä»¶ï¼ˆå¦‚æœéœ€è¦ï¼‰

#### æ­¥é©Ÿ 3.4: è™•ç†äº¤äº’å’Œå‹•ç•«
- æ ¹æ“š `spec/page.md` ä¸­çš„äº¤äº’è¨­è¨ˆè¦æ±‚
- å¯¦ç¾æ»¾å‹•è§¸ç™¼å‹•ç•«ï¼ˆå¦‚æœéœ€è¦ï¼‰
- å¯¦ç¾é é¢éæ¸¡æ•ˆæœï¼ˆå¦‚æœéœ€è¦ï¼‰

### Phase 4: å„ªåŒ–å’Œæ¸¬è©¦æº–å‚™

#### æ­¥é©Ÿ 4.1: ä»£ç¢¼å„ªåŒ–
- ç¢ºä¿ä»£ç¢¼ç¬¦åˆ React æœ€ä½³å¯¦è¸
- å„ªåŒ–çµ„ä»¶æ€§èƒ½ï¼ˆä½¿ç”¨ React.memoã€useMemo ç­‰ï¼‰
- ç¢ºä¿ç„¡ TypeScript éŒ¯èª¤
- ç¢ºä¿ç„¡ ESLint è­¦å‘Š

#### æ­¥é©Ÿ 4.2: æ–‡æª”å’Œè¨»é‡‹
- æ·»åŠ é©ç•¶çš„ä»£ç¢¼è¨»é‡‹
- ç¢ºä¿çµ„ä»¶ props æœ‰æ¸…æ™°çš„é¡å‹å®šç¾©
- æ·»åŠ ä½¿ç”¨èªªæ˜ï¼ˆå¦‚æœéœ€è¦ï¼‰

#### æ­¥é©Ÿ 4.3: ä¾è³´æª¢æŸ¥
- åˆ—å‡ºæ‰€æœ‰éœ€è¦çš„ npm ä¾è³´
- ç¢ºä¿ä¾è³´ç‰ˆæœ¬å…¼å®¹
- æä¾›å®‰è£æŒ‡å¼•

### Phase 5: çµ„ä»¶è¼¸å‡ºèˆ‡ä¿å­˜

#### æ­¥é©Ÿ 5.1: ä¿å­˜å®Œæ•´ç¶²é çµ„ä»¶
**å¿…é ˆ**ä½¿ç”¨ `filesystem_write_file` å·¥å…·ä¿å­˜ï¼š

- **æ–‡ä»¶è·¯å¾‘**ï¼š`pages/index.tsx`ï¼ˆåœ¨ Project Sandbox ä¸­ï¼‰
- **å®Œæ•´è·¯å¾‘**ï¼š`sandboxes/{workspace_id}/web_page/{project_id}/pages/index.tsx`
- **å…§å®¹**ï¼šå®Œæ•´çš„ç¶²é çµ„ä»¶ä»£ç¢¼

#### æ­¥é©Ÿ 5.2: ä¿å­˜å…±äº«æ¨£å¼æ–‡ä»¶ï¼ˆå¦‚æœéœ€è¦ï¼‰
å¦‚æœå‰µå»ºäº†å…±äº«æ¨£å¼æ–‡ä»¶ï¼š

- **æ–‡ä»¶è·¯å¾‘**ï¼š`styles/global.css` æˆ– `styles/theme.ts`
- **å…§å®¹**ï¼šçµ±ä¸€çš„æ¨£å¼å®šç¾©

#### æ­¥é©Ÿ 5.3: ä¿å­˜ä¾è³´æ¸…å–®
**å¿…é ˆ**ä½¿ç”¨ `filesystem_write_file` å·¥å…·ä¿å­˜ï¼š

- **æ–‡ä»¶è·¯å¾‘**ï¼š`package.json` æˆ– `dependencies.md`
- **å…§å®¹**ï¼šæ‰€æœ‰éœ€è¦çš„ npm ä¾è³´åˆ—è¡¨

#### æ­¥é©Ÿ 5.4: è¨»å†Š Artifact
**å¿…é ˆ**ä½¿ç”¨ `artifact_registry.register_artifact` è¨»å†Šç”¢å‡ºçš„ artifactï¼š

- **artifact_id**ï¼š`complete_page`
- **artifact_type**ï¼š`react_component`
- **path**ï¼š`pages/index.tsx`
- **metadata**ï¼š
  - `component_name`ï¼š`HomePage`
  - `framework`ï¼š`react`
  - `dependencies`ï¼šä¾è³´åˆ—è¡¨
  - `created_at`ï¼šå‰µå»ºæ™‚é–“

### Phase 6: åŸ·è¡Œè¨˜éŒ„ä¿å­˜

#### æ­¥é©Ÿ 6.1: ä¿å­˜å°è©±æ­·å²
**å¿…é ˆ**ä½¿ç”¨ `filesystem_write_file` å·¥å…·ä¿å­˜å®Œæ•´çš„å°è©±æ­·å²ï¼š

- æ–‡ä»¶è·¯å¾‘: `artifacts/page_assembly/{{execution_id}}/conversation_history.json`
- å…§å®¹: å®Œæ•´çš„å°è©±æ­·å²ï¼ˆåŒ…å«æ‰€æœ‰ user å’Œ assistant æ¶ˆæ¯ï¼‰
- æ ¼å¼: JSON æ ¼å¼ï¼ŒåŒ…å«æ™‚é–“æˆ³å’Œè§’è‰²ä¿¡æ¯

#### æ­¥é©Ÿ 6.2: ä¿å­˜åŸ·è¡Œæ‘˜è¦
**å¿…é ˆ**ä½¿ç”¨ `filesystem_write_file` å·¥å…·ä¿å­˜åŸ·è¡Œæ‘˜è¦ï¼š

- æ–‡ä»¶è·¯å¾‘: `artifacts/page_assembly/{{execution_id}}/execution_summary.md`
- å…§å®¹:
  - åŸ·è¡Œæ™‚é–“
  - åŸ·è¡Œ ID
  - Playbook åç¨±
  - æ•´åˆçš„çµ„ä»¶åˆ—è¡¨
  - ç”Ÿæˆçš„å®Œæ•´ç¶²é çµ„ä»¶è·¯å¾‘
  - ä¾è³´æ¸…å–®
  - åŸ·è¡Œçµæœæ‘˜è¦

## å€‹äººåŒ–

åŸºæ–¼ä½¿ç”¨è€…çš„ Mindscape å€‹äººæª”æ¡ˆï¼š
- **æŠ€è¡“ç­‰ç´š**ï¼šè‹¥ç‚ºã€Œé€²éšã€ï¼ŒåŒ…å«æ›´å¤šå„ªåŒ–å’Œè‡ªè¨‚é¸é …
- **è©³ç´°ç¨‹åº¦**ï¼šè‹¥åå¥½ã€Œé«˜ã€ï¼Œæä¾›æ›´è©³ç´°çš„ä»£ç¢¼è¨»é‡‹å’Œèªªæ˜
- **å·¥ä½œé¢¨æ ¼**ï¼šè‹¥åå¥½ã€Œçµæ§‹åŒ–ã€ï¼Œæä¾›æ›´æ¸…æ™°çš„çµ„ä»¶çµæ§‹å’Œçµ„ç¹”

## èˆ‡é•·æœŸæ„åœ–çš„æ•´åˆ

è‹¥ä½¿ç”¨è€…æœ‰ç›¸é—œçš„æ´»èºæ„åœ–ï¼ˆä¾‹å¦‚ã€Œå»ºç«‹å…¬å¸ç™»é™¸é é¢ã€ï¼‰ï¼Œæ˜ç¢ºå¼•ç”¨ï¼š
> "ç”±æ–¼æ‚¨æ­£åœ¨é€²è¡Œã€Œå»ºç«‹å…¬å¸ç™»é™¸é é¢ã€ï¼Œæˆ‘å·²ç¶“å°‡æ‰€æœ‰çµ„ä»¶æ•´åˆæˆå®Œæ•´çš„ç¶²é ï¼Œå¯ä»¥ç›´æ¥éƒ¨ç½²ä½¿ç”¨..."

## æˆåŠŸæ¨™æº–

- å®Œæ•´ç¶²é çµ„ä»¶å·²ç”Ÿæˆåˆ° Project Sandbox çš„ `pages/index.tsx`
- æ‰€æœ‰çµ„ä»¶ï¼ˆhero + sectionsï¼‰å·²æ­£ç¢ºæ•´åˆ
- æ¨£å¼çµ±ä¸€ä¸”ä¸€è‡´
- éŸ¿æ‡‰å¼è¨­è¨ˆå·²å¯¦ç¾
- ä»£ç¢¼ç„¡éŒ¯èª¤ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨
- Artifact å·²æ­£ç¢ºè¨»å†Š
- ä¾è³´æ¸…å–®å·²æä¾›

## æ³¨æ„äº‹é …

- **ä¾è³´é—œä¿‚**ï¼šå¿…é ˆå…ˆåŸ·è¡Œ `page_outline`ã€`threejs_hero_landing`ã€`page_sections` playbook
- **Project Context**ï¼šå¿…é ˆåœ¨ web_page project çš„ context ä¸­åŸ·è¡Œ
- **æ¨£å¼ä¸€è‡´æ€§**ï¼šç¢ºä¿æ‰€æœ‰çµ„ä»¶ä½¿ç”¨çµ±ä¸€çš„æ¨£å¼è¦ç¯„
- **æ€§èƒ½å„ªåŒ–**ï¼šç¢ºä¿çµ„ä»¶æ€§èƒ½è‰¯å¥½ï¼Œç„¡ä¸å¿…è¦çš„é‡æ¸²æŸ“
- **å¯ç¶­è­·æ€§**ï¼šç¢ºä¿ä»£ç¢¼çµæ§‹æ¸…æ™°ï¼Œæ˜“æ–¼ç¶­è­·å’Œæ“´å±•

