{
  "version": "1.0.0",
  "playbook_code": "ig_content_reuse",
  "kind": "user_workflow",
  "description": "Manage content transformation and reuse across different IG formats",
  "steps": [
    {
      "id": "article_to_carousel",
      "tool": "ig_content_reuse_tool",
      "inputs": {
        "action": "article_to_carousel",
        "vault_path": "{{input.vault_path}}",
        "source_post_path": "{{input.source_post_path}}",
        "target_folder": "{{input.target_folder}}",
        "carousel_slides": "{{input.carousel_slides}}",
        "slide_structure": "{{input.slide_structure}}"
      },
      "outputs": {
        "result": "result"
      },
      "condition": "{{input.action == 'article_to_carousel'}}"
    },
    {
      "id": "carousel_to_reel",
      "tool": "ig_content_reuse_tool",
      "inputs": {
        "action": "carousel_to_reel",
        "vault_path": "{{input.vault_path}}",
        "carousel_posts": "{{input.carousel_posts}}",
        "target_folder": "{{input.target_folder}}",
        "reel_duration": "{{input.reel_duration}}"
      },
      "outputs": {
        "result": "result"
      },
      "condition": "{{input.action == 'carousel_to_reel'}}"
    },
    {
      "id": "reel_to_stories",
      "tool": "ig_content_reuse_tool",
      "inputs": {
        "action": "reel_to_stories",
        "vault_path": "{{input.vault_path}}",
        "source_reel_path": "{{input.source_reel_path}}",
        "target_folder": "{{input.target_folder}}",
        "story_count": "{{input.story_count}}"
      },
      "outputs": {
        "result": "result"
      },
      "condition": "{{input.action == 'reel_to_stories'}}"
    }
  ],
  "inputs": {
    "action": {
      "type": "string",
      "enum": ["article_to_carousel", "carousel_to_reel", "reel_to_stories"],
      "required": true,
      "description": "Action to perform"
    },
    "vault_path": {
      "type": "string",
      "required": true,
      "description": "Path to Obsidian Vault"
    },
    "source_post_path": {
      "type": "string",
      "required": false,
      "description": "Path to source post (relative to vault, required for article_to_carousel)"
    },
    "carousel_posts": {
      "type": "array",
      "items": {"type": "string"},
      "required": false,
      "description": "List of carousel post paths (required for carousel_to_reel)"
    },
    "source_reel_path": {
      "type": "string",
      "required": false,
      "description": "Path to source reel post (relative to vault, required for reel_to_stories)"
    },
    "target_folder": {
      "type": "string",
      "required": true,
      "description": "Target folder for generated posts (relative to vault)"
    },
    "carousel_slides": {
      "type": "integer",
      "required": false,
      "description": "Number of carousel slides (default: 7)"
    },
    "slide_structure": {
      "type": "object",
      "required": false,
      "description": "Custom slide structure configuration"
    },
    "reel_duration": {
      "type": "integer",
      "required": false,
      "description": "Reel duration in seconds"
    },
    "story_count": {
      "type": "integer",
      "required": false,
      "description": "Number of stories to create (default: 3)"
    }
  },
  "outputs": {
    "result": {
      "type": "object",
      "description": "Transformation result with created posts information",
      "source": "step.article_to_carousel.result or step.carousel_to_reel.result or step.reel_to_stories.result"
    }
  }
}

