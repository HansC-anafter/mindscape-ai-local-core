{
  "version": "1.0",
  "playbook_code": "cis_behavior_identity",
  "kind": "user_workflow",
  "description": "建立品牌行為場景，包括溝通風格、客服腳本、危機處理、衝突立場",
  "steps": [
    {
      "id": "define_communication_style",
      "tool": "core_llm.structured_extract",
      "inputs": {
        "text": "{{input.brand_context}}",
        "schema_description": "定義品牌溝通風格"
      },
      "outputs": {
        "communication_style": "extracted_data"
      }
    },
    {
      "id": "create_customer_service_scripts",
      "tool": "core_llm.generate",
      "inputs": {
        "prompt": "基於品牌溝通風格 {{step.define_communication_style.communication_style}}，生成客服腳本"
      },
      "outputs": {
        "service_scripts": "generated_scripts"
      },
      "depends_on": ["define_communication_style"]
    },
    {
      "id": "define_crisis_handling",
      "tool": "core_llm.generate",
      "inputs": {
        "prompt": "定義品牌危機處理策略"
      },
      "outputs": {
        "crisis_handling": "generated_strategy"
      },
      "depends_on": ["define_communication_style"]
    }
  ],
  "inputs": {
    "brand_context": {
      "type": "string",
      "description": "品牌上下文資訊",
      "required": true
    },
    "workspace_id": {
      "type": "string",
      "description": "Workspace ID",
      "required": true
    }
  },
  "outputs": {
    "communication_style": {
      "type": "object",
      "description": "溝通風格定義",
      "source": "step.define_communication_style.communication_style"
    },
    "service_scripts": {
      "type": "array",
      "description": "客服腳本",
      "source": "step.create_customer_service_scripts.service_scripts"
    },
    "crisis_handling": {
      "type": "object",
      "description": "危機處理策略",
      "source": "step.define_crisis_handling.crisis_handling"
    }
  }
}


