{
  "version": "1.0",
  "playbook_code": "strategy_planning",
  "kind": "user_workflow",
  "steps": [
    {
      "id": "collect_business_goals",
      "tool": "core_llm.structured_extract",
      "inputs": {
        "text": "{{input.user_request}}\n\n{{input.context}}\n\nCollect business goals and current state. Gather business objectives and targets, understand current business state and performance, identify key stakeholders and their expectations, collect relevant business metrics and KPIs, and document constraints and limitations.",
        "schema_description": "A JSON object with the following properties: 1) business_goals: array of objects, each with goal (string), priority (string: 'high', 'medium', 'low'), and description (string). 2) current_state: object with performance_metrics (object with key-value pairs), stakeholders (array of objects with name and expectations), and constraints (array of strings). 3) kpis: array of objects, each with metric (string), current_value (string or number), and target_value (string or number)."
      },
      "outputs": {
        "business_goals": "extracted_data.business_goals",
        "current_state": "extracted_data.current_state",
        "kpis": "extracted_data.kpis"
      }
    },
    {
      "id": "analyze_market_competition",
      "tool": "core_llm.structured_extract",
      "inputs": {
        "text": "Business Goals: {{step.collect_business_goals.business_goals}}\n\nCurrent State: {{step.collect_business_goals.current_state}}\n\nAnalyze market and competition. Research market conditions and trends, analyze competitive landscape, identify market opportunities and gaps, assess competitive strengths and weaknesses, and evaluate market positioning.",
        "schema_description": "A JSON object with the following properties: 1) market_analysis: object with conditions (string), trends (array of strings), and opportunities (array of strings). 2) competitive_analysis: object with competitors (array of objects with name, strengths, and weaknesses), competitive_positioning (string), and market_gaps (array of strings). 3) market_opportunities: array of objects, each with opportunity (string), potential_impact (string: 'high', 'medium', 'low'), and description (string)."
      },
      "outputs": {
        "market_analysis": "extracted_data.market_analysis",
        "competitive_analysis": "extracted_data.competitive_analysis",
        "market_opportunities": "extracted_data.market_opportunities"
      },
      "depends_on": ["collect_business_goals"]
    },
    {
      "id": "identify_opportunities_threats",
      "tool": "core_llm.structured_extract",
      "inputs": {
        "text": "Business Goals: {{step.collect_business_goals.business_goals}}\n\nMarket Analysis: {{step.analyze_market_competition.market_analysis}}\n\nCompetitive Analysis: {{step.analyze_market_competition.competitive_analysis}}\n\nConduct SWOT analysis. Identify strategic opportunities, recognize potential threats and risks, assess internal capabilities and resources, and evaluate external factors and market forces.",
        "schema_description": "A JSON object with the following properties: 1) swot_analysis: object with strengths (array of strings), weaknesses (array of strings), opportunities (array of strings), and threats (array of strings). 2) strategic_opportunities: array of objects, each with opportunity (string), potential_value (string), and action_required (string). 3) risks_and_threats: array of objects, each with threat (string), likelihood (string: 'high', 'medium', 'low'), impact (string: 'high', 'medium', 'low'), and mitigation_strategy (string). 4) internal_capabilities: object with strengths (array of strings) and gaps (array of strings)."
      },
      "outputs": {
        "swot_analysis": "extracted_data.swot_analysis",
        "strategic_opportunities": "extracted_data.strategic_opportunities",
        "risks_and_threats": "extracted_data.risks_and_threats",
        "internal_capabilities": "extracted_data.internal_capabilities"
      },
      "depends_on": ["analyze_market_competition"]
    },
    {
      "id": "define_strategy_direction",
      "tool": "core_llm.structured_extract",
      "inputs": {
        "text": "Business Goals: {{step.collect_business_goals.business_goals}}\n\nSWOT Analysis: {{step.identify_opportunities_threats.swot_analysis}}\n\nStrategic Opportunities: {{step.identify_opportunities_threats.strategic_opportunities}}\n\nDefine strategy direction. Formulate strategic objectives and goals, define strategic initiatives and priorities, establish strategic positioning, create value proposition, and develop strategic themes and focus areas.",
        "schema_description": "A JSON object with the following properties: 1) strategic_objectives: array of objects, each with objective (string), priority (string: 'high', 'medium', 'low'), timeline (string), and success_metrics (array of strings). 2) strategic_initiatives: array of objects, each with initiative (string), priority (string), description (string), and expected_outcome (string). 3) strategic_positioning: object with positioning_statement (string), value_proposition (string), and differentiators (array of strings). 4) strategic_themes: array of objects, each with theme (string), description (string), and focus_areas (array of strings)."
      },
      "outputs": {
        "strategic_objectives": "extracted_data.strategic_objectives",
        "strategic_initiatives": "extracted_data.strategic_initiatives",
        "strategic_positioning": "extracted_data.strategic_positioning",
        "strategic_themes": "extracted_data.strategic_themes"
      },
      "depends_on": ["identify_opportunities_threats"]
    },
    {
      "id": "plan_execution_steps",
      "tool": "core_llm.structured_extract",
      "inputs": {
        "text": "Strategic Objectives: {{step.define_strategy_direction.strategic_objectives}}\n\nStrategic Initiatives: {{step.define_strategy_direction.strategic_initiatives}}\n\nStrategic Themes: {{step.define_strategy_direction.strategic_themes}}\n\nPlan execution steps. Break down strategy into actionable initiatives, define milestones and deliverables, assign responsibilities and resources, create timeline and roadmap, establish success metrics and KPIs, and generate comprehensive strategy document.",
        "schema_description": "A JSON object with the following properties: 1) execution_plan: array of objects, each with initiative (string), milestones (array of objects with milestone (string), due_date (string), and deliverables (array of strings)), timeline (object with start_date and end_date), and responsible_party (string). 2) roadmap: array of objects, each with phase (string), duration (string), key_activities (array of strings), and dependencies (array of strings). 3) success_metrics: array of objects, each with metric (string), target_value (string or number), measurement_frequency (string), and owner (string). 4) resource_requirements: object with human_resources (array of strings), budget_requirements (string), and tools_technologies (array of strings). 5) strategy_document: object with executive_summary (string), strategy_overview (string), and detailed_plan (string)."
      },
      "outputs": {
        "execution_plan": "extracted_data.execution_plan",
        "roadmap": "extracted_data.roadmap",
        "success_metrics": "extracted_data.success_metrics",
        "resource_requirements": "extracted_data.resource_requirements",
        "strategy_document": "extracted_data.strategy_document"
      },
      "depends_on": ["define_strategy_direction"]
    }
  ],
  "inputs": {
    "user_request": {
      "type": "string",
      "required": true,
      "description": "User's request for strategy planning"
    },
    "context": {
      "type": "string",
      "default": "",
      "description": "Additional context about the business or situation"
    }
  },
  "outputs": {
    "business_goals": {
      "type": "list[object]",
      "description": "Business goals and objectives with priorities",
      "source": "step.collect_business_goals.business_goals"
    },
    "current_state": {
      "type": "object",
      "description": "Current business state including metrics, stakeholders, and constraints",
      "source": "step.collect_business_goals.current_state"
    },
    "kpis": {
      "type": "list[object]",
      "description": "Key performance indicators with current and target values",
      "source": "step.collect_business_goals.kpis"
    },
    "market_analysis": {
      "type": "object",
      "description": "Market conditions, trends, and opportunities",
      "source": "step.analyze_market_competition.market_analysis"
    },
    "competitive_analysis": {
      "type": "object",
      "description": "Competitive landscape analysis",
      "source": "step.analyze_market_competition.competitive_analysis"
    },
    "market_opportunities": {
      "type": "list[object]",
      "description": "Identified market opportunities with potential impact",
      "source": "step.analyze_market_competition.market_opportunities"
    },
    "swot_analysis": {
      "type": "object",
      "description": "SWOT analysis (Strengths, Weaknesses, Opportunities, Threats)",
      "source": "step.identify_opportunities_threats.swot_analysis"
    },
    "strategic_opportunities": {
      "type": "list[object]",
      "description": "Strategic opportunities with potential value",
      "source": "step.identify_opportunities_threats.strategic_opportunities"
    },
    "risks_and_threats": {
      "type": "list[object]",
      "description": "Risks and threats with likelihood, impact, and mitigation strategies",
      "source": "step.identify_opportunities_threats.risks_and_threats"
    },
    "internal_capabilities": {
      "type": "object",
      "description": "Internal capabilities assessment",
      "source": "step.identify_opportunities_threats.internal_capabilities"
    },
    "strategic_objectives": {
      "type": "list[object]",
      "description": "Strategic objectives with priorities and timelines",
      "source": "step.define_strategy_direction.strategic_objectives"
    },
    "strategic_initiatives": {
      "type": "list[object]",
      "description": "Strategic initiatives with priorities and expected outcomes",
      "source": "step.define_strategy_direction.strategic_initiatives"
    },
    "strategic_positioning": {
      "type": "object",
      "description": "Strategic positioning statement and value proposition",
      "source": "step.define_strategy_direction.strategic_positioning"
    },
    "strategic_themes": {
      "type": "list[object]",
      "description": "Strategic themes and focus areas",
      "source": "step.define_strategy_direction.strategic_themes"
    },
    "execution_plan": {
      "type": "list[object]",
      "description": "Detailed execution plan with milestones and timelines",
      "source": "step.plan_execution_steps.execution_plan"
    },
    "roadmap": {
      "type": "list[object]",
      "description": "Strategic roadmap with phases and key activities",
      "source": "step.plan_execution_steps.roadmap"
    },
    "success_metrics": {
      "type": "list[object]",
      "description": "Success metrics and KPIs for tracking progress",
      "source": "step.plan_execution_steps.success_metrics"
    },
    "resource_requirements": {
      "type": "object",
      "description": "Resource requirements for execution",
      "source": "step.plan_execution_steps.resource_requirements"
    },
    "strategy_document": {
      "type": "object",
      "description": "Comprehensive strategy document",
      "source": "step.plan_execution_steps.strategy_document"
    }
  }
}

