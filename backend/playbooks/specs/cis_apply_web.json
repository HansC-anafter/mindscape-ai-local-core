{
  "version": "1.0",
  "playbook_code": "cis_apply_web",
  "kind": "user_workflow",
  "description": "基於 CIS Lens 生成網站",
  "steps": [
    {
      "id": "load_brand_lens",
      "tool": "cloud_capability.call",
      "inputs": {
        "capability": "brand_identity",
        "endpoint": "cis-mapper/get-lens",
        "params": {
          "workspace_id": "{{input.workspace_id}}",
          "lens_id": "{{input.lens_id}}"
        }
      },
      "outputs": {
        "brand_lens": "lens_data"
      }
    },
    {
      "id": "generate_website",
      "tool": "core_llm.generate",
      "inputs": {
        "prompt": "基於 Brand Lens {{step.load_brand_lens.brand_lens}} 生成網站規格"
      },
      "outputs": {
        "website_spec": "generated_spec"
      },
      "depends_on": ["load_brand_lens"]
    }
  ],
  "inputs": {
    "lens_id": {
      "type": "string",
      "description": "Brand Lens ID",
      "required": true
    },
    "workspace_id": {
      "type": "string",
      "description": "Workspace ID",
      "required": true
    },
    "website_requirements": {
      "type": "object",
      "description": "網站需求",
      "required": false
    }
  },
  "outputs": {
    "website_spec": {
      "type": "object",
      "description": "生成的網站規格",
      "source": "step.generate_website.website_spec"
    }
  }
}


