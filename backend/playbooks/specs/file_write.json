{
  "version": "1.0",
  "playbook_code": "file_write",
  "kind": "user_workflow",
  "steps": [
    {
      "id": "write_file",
      "tool": "filesystem_write_file",
      "inputs": {
        "file_path": "{{input.file_path}}",
        "content": "{{input.content}}",
        "encoding": "{{input.encoding | default('utf-8')}}"
      },
      "outputs": {
        "file_path": "file_path",
        "size": "size",
        "success": "success"
      }
    }
  ],
  "inputs": {
    "file_path": {
      "type": "string",
      "required": true,
      "description": "Relative file path from workspace storage directory"
    },
    "content": {
      "type": "string",
      "required": true,
      "description": "File content to write"
    },
    "encoding": {
      "type": "string",
      "default": "utf-8",
      "description": "File encoding"
    }
  },
  "outputs": {
    "file_path": {
      "type": "string",
      "description": "Path of the written file",
      "source": "step.write_file.file_path"
    },
    "size": {
      "type": "integer",
      "description": "Size of the written file in bytes",
      "source": "step.write_file.size"
    },
    "success": {
      "type": "boolean",
      "description": "Whether the file write was successful",
      "source": "step.write_file.success"
    }
  },
  "output_artifacts": [
    {
      "id": "written_file",
      "artifact_type": "file",
      "primary_action_type": "open",
      "title_template": "檔案：{{input.file_path}}",
      "summary_template": "已寫入檔案「{{input.file_path}}」，大小 {{step.write_file.size}} 位元組",
      "source": "step.write_file",
      "metadata": {
        "file_path": "{{input.file_path}}",
        "encoding": "{{input.encoding | default('utf-8')}}"
      }
    }
  ]
}

